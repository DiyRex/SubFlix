<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SubFlix - Custom Netflix Subtitles</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1 class="title">SubFlix</h1>
      <div class="master-toggle">
        <label class="toggle-switch">
          <input type="checkbox" id="masterToggle" checked>
          <span class="toggle-slider"></span>
        </label>
      </div>
    </div>

    <!-- Status Section -->
    <section class="section status-section">
      <div class="section-header">
        <span class="section-icon">üìä</span>
        <h2>Status</h2>
      </div>
      <div class="status-grid">
        <div class="status-item">
          <span class="status-label">Extension:</span>
          <span class="status-value" id="extensionStatus">
            <span class="status-indicator active"></span> Active
          </span>
        </div>
        <div class="status-item">
          <span class="status-label">Netflix Video:</span>
          <span class="status-value" id="videoStatus">
            <span class="status-indicator"></span> Detecting...
          </span>
        </div>
        <div class="status-item">
          <span class="status-label">Subtitle:</span>
          <span class="status-value" id="subtitleStatus">
            <span class="status-indicator"></span> Not loaded
          </span>
        </div>
      </div>
    </section>

    <!-- File Management Section -->
    <section class="section file-section">
      <div class="section-header">
        <span class="section-icon">üìÅ</span>
        <h2>File Management</h2>
      </div>
      <div class="file-info" id="fileInfo" style="display: none;">
        <div class="file-name" id="fileName">No file loaded</div>
        <div class="file-details" id="fileDetails">0 subtitle entries</div>
      </div>
      <div class="button-group">
        <button class="btn btn-primary" id="uploadBtn">
          <span>üì§</span> Upload Subtitle
        </button>
        <button class="btn btn-secondary" id="unloadBtn" disabled>
          <span>üóëÔ∏è</span> Unload
        </button>
      </div>
      <input type="file" id="fileInput" accept=".srt" style="display: none;">
    </section>

    <!-- Timing Controls Section -->
    <section class="section timing-section">
      <div class="section-header">
        <span class="section-icon">‚è±Ô∏è</span>
        <h2>Timing Controls</h2>
      </div>
      <div class="offset-display">
        <span class="offset-label">Current Offset:</span>
        <span class="offset-value" id="offsetValue">0.0s</span>
      </div>
      <div class="timing-controls">
        <div class="timing-group">
          <label class="control-label">Large Adjust:</label>
          <div class="button-row">
            <button class="btn btn-timing" data-offset="-5">-5s</button>
            <button class="btn btn-timing" data-offset="-1">-1s</button>
            <button class="btn btn-timing" data-offset="-0.5">-0.5s</button>
            <button class="btn btn-timing" data-offset="0.5">+0.5s</button>
            <button class="btn btn-timing" data-offset="1">+1s</button>
            <button class="btn btn-timing" data-offset="5">+5s</button>
          </div>
        </div>
        <div class="timing-group">
          <label class="control-label">Fine Adjust:</label>
          <div class="button-row">
            <button class="btn btn-timing btn-fine" data-offset="-0.1">-0.1s</button>
            <button class="btn btn-timing btn-fine" data-offset="0.1">+0.1s</button>
          </div>
        </div>
        <button class="btn btn-reset" id="resetTimingBtn">
          <span>‚Ü∫</span> Reset to 0
        </button>
      </div>
    </section>

    <!-- Appearance Section -->
    <section class="section appearance-section">
      <div class="section-header collapsible" data-target="appearanceContent">
        <div>
          <span class="section-icon">üé®</span>
          <h2>Appearance</h2>
        </div>
        <span class="collapse-arrow">‚ñº</span>
      </div>
      <div class="section-content" id="appearanceContent">
        <!-- Font Size -->
        <div class="control-group">
          <label class="control-label">
            Font Size: <span id="fontSizeValue">24px</span>
          </label>
          <input type="range" id="fontSizeSlider" min="12" max="48" value="24" class="slider">
          <div class="range-labels">
            <span>12px</span>
            <span>48px</span>
          </div>
        </div>

        <!-- Background -->
        <div class="control-group">
          <label class="control-label">Background:</label>
          <div class="radio-group">
            <label class="radio-label">
              <input type="radio" name="background" value="none">
              <span>Off</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="background" value="transparent">
              <span>Transparent</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="background" value="semi">
              <span>Semi</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="background" value="opaque" checked>
              <span>Opaque</span>
            </label>
          </div>
        </div>

        <!-- Background Opacity -->
        <div class="control-group">
          <label class="control-label">
            Opacity: <span id="opacityValue">85%</span>
          </label>
          <input type="range" id="opacitySlider" min="0" max="100" value="85" class="slider">
          <div class="range-labels">
            <span>0%</span>
            <span>100%</span>
          </div>
        </div>

        <!-- Text Color -->
        <div class="control-group">
          <label class="control-label">Text Color:</label>
          <div class="color-picker-group">
            <input type="color" id="textColorPicker" value="#FFFFFF" class="color-input">
            <input type="text" id="textColorHex" value="#FFFFFF" class="color-hex" maxlength="7">
          </div>
        </div>

        <!-- Shadow -->
        <div class="control-group">
          <label class="checkbox-label">
            <input type="checkbox" id="shadowToggle" checked>
            <span>Enable Text Shadow</span>
          </label>
        </div>

        <div class="control-group" id="shadowStrengthGroup">
          <label class="control-label">
            Shadow Strength: <span id="shadowValue">90%</span>
          </label>
          <input type="range" id="shadowSlider" min="0" max="100" value="90" class="slider">
          <div class="range-labels">
            <span>0%</span>
            <span>100%</span>
          </div>
        </div>

        <!-- Position -->
        <div class="control-group">
          <label class="control-label">Position:</label>
          <select id="positionSelect" class="select-input">
            <option value="top">Top</option>
            <option value="middle">Middle</option>
            <option value="bottom" selected>Bottom</option>
          </select>
        </div>

        <!-- Vertical Offset -->
        <div class="control-group">
          <label class="control-label">
            Vertical Offset: <span id="verticalOffsetValue">80px</span>
          </label>
          <input type="range" id="verticalOffsetSlider" min="0" max="200" value="80" class="slider">
          <div class="range-labels">
            <span>0px</span>
            <span>200px</span>
          </div>
        </div>

        <!-- Preview -->
        <div class="preview-box" id="previewBox">
          <div class="preview-text" id="previewText">Preview Text ‡∑Ñ‡∑ú‡∂≥‡∂ß‡∂∏ ‡∑Ä‡∑ê‡∂©‡∑Ñ‡∑í‡∂ö</div>
        </div>
      </div>
    </section>

    <!-- Advanced Settings Section -->
    <section class="section advanced-section">
      <div class="section-header collapsible" data-target="advancedContent">
        <div>
          <span class="section-icon">‚öôÔ∏è</span>
          <h2>Advanced Settings</h2>
        </div>
        <span class="collapse-arrow">‚ñº</span>
      </div>
      <div class="section-content" id="advancedContent">
        <label class="checkbox-label">
          <input type="checkbox" id="autoLoadToggle">
          <span>Auto-load last subtitle</span>
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="rememberDelayToggle" checked>
          <span>Remember delay per video</span>
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="showWhileSeekingToggle">
          <span>Show subtitle while seeking</span>
        </label>

        <div class="button-group">
          <button class="btn btn-secondary btn-small" id="testSubtitleBtn">
            <span>‚öôÔ∏è</span> Test
          </button>
          <button class="btn btn-secondary btn-small" id="exportBtn">
            <span>‚Üì</span> Export
          </button>
          <button class="btn btn-secondary btn-small" id="importBtn">
            <span>‚Üë</span> Import
          </button>
        </div>

        <button class="btn btn-warning" id="resetAllBtn">
          <span>üîÑ</span> Reset All Settings
        </button>
      </div>
    </section>

    <!-- Keyboard Shortcuts Section -->
    <section class="section shortcuts-section">
      <div class="section-header collapsible" data-target="shortcutsContent">
        <div>
          <span class="section-icon">‚å®Ô∏è</span>
          <h2>Keyboard Shortcuts</h2>
        </div>
        <span class="collapse-arrow">‚ñº</span>
      </div>
      <div class="section-content collapsed" id="shortcutsContent">
        <div class="shortcut-list">
          <div class="shortcut-item">
            <kbd>Ctrl+Shift+S</kbd>
            <span>Toggle subtitles</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl+‚Üí</kbd>
            <span>+0.5s delay</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl+‚Üê</kbd>
            <span>-0.5s delay</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl+‚Üë</kbd>
            <span>Increase font</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl+‚Üì</kbd>
            <span>Decrease font</span>
          </div>
          <div class="shortcut-item">
            <kbd>Ctrl+0</kbd>
            <span>Reset delay</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <span class="version">v2.0</span>
      <span class="separator">|</span>
      <span class="author">by DiyRex</span>
      <span class="separator">|</span>
      <a href="#" id="helpLink">Help</a>
      <span class="separator">|</span>
      <a href="#" id="aboutLink">About</a>
    </footer>

    <!-- Notification Toast -->
    <div class="toast" id="toast">
      <span class="toast-icon" id="toastIcon">‚úì</span>
      <span class="toast-message" id="toastMessage">Success!</span>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
